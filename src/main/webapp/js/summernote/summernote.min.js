!function (g) { "function" == typeof define && define.amd ? define(["jquery", "codemirror"], g) : g(window.jQuery, window.CodeMirror) }(function (g, G) {
    "function" != typeof Array.prototype.reduce && (Array.prototype.reduce = function (f, a) { var d, c, h = this.length >>> 0, n = !1; 1 < arguments.length && (c = a, n = !0); for (d = 0; h > d; ++d) this.hasOwnProperty(d) && (n ? c = f(c, this[d], d, this) : (c = this[d], n = !0)); if (!n) throw new TypeError("Reduce of empty array with no initial value"); return c }); var H = -1 < navigator.appVersion.indexOf("Mac"), A = -1 < navigator.userAgent.indexOf("MSIE") ||
    -1 < navigator.userAgent.indexOf("Trident"), D = -1 < navigator.userAgent.indexOf("Firefox"), I = parseFloat(g.fn.jquery), J = !!G, t = function () { return { eq: function (f) { return function (a) { return f === a } }, eq2: function (f, a) { return f === a }, ok: function () { return !0 }, fail: function () { return !1 }, not: function (f) { return function () { return !f.apply(f, arguments) } }, self: function (f) { return f } } }(), u = function () {
        var f = function (d) { return d[d.length - 1] }, a = function (d) { return d.slice(1) }; return {
            head: function (d) { return d[0] }, last: f, initial: function (d) {
                return d.slice(0,
                d.length - 1)
            }, tail: a, prev: function (d, c) { var h = d.indexOf(c); return -1 === h ? null : d[h - 1] }, next: function (d, c) { var h = d.indexOf(c); return -1 === h ? null : d[h + 1] }, sum: function (d, c) { return c = c || t.self, d.reduce(function (d, a) { return d + c(a) }, 0) }, from: function (d) { for (var c = [], h = -1, a = d.length; ++h < a;) c[h] = d[h]; return c }, compact: function (d) { for (var c = [], h = 0, a = d.length; a > h; h++) d[h] && c.push(d[h]); return c }, clusterBy: function (d, c) {
                return 0 === d.length ? [] : a(d).reduce(function (d, a) {
                    var e = f(d); return c(f(e), a) ? e[e.length] = a : d[d.length] =
                    [a], d
                }, [[d[0]]])
            }
        }
    }(), k = function () {
        var f = function (b) { return b && g(b).hasClass("note-editable") }, a = function (b) { return function (e) { return e && e.nodeName === b } }, d = function (b, e) { for (; b;) { if (e(b)) return b; if (f(b)) break; b = b.parentNode } return null }, c = function (b, e) { e = e || t.fail; var a = []; return d(b, function (b) { return a.push(b), e(b) }), a }, h = function (b, e) { for (var d = c(b), a = e; a; a = a.parentNode) if (-1 < g.inArray(a, d)) return a; return null }, n = function (b, e) { e = e || t.fail; for (var d = []; b && (d.push(b), !e(b)) ;) b = b.nextSibling; return d },
        e = function (b, e) { var d = e.nextSibling, a = e.parentNode; return d ? a.insertBefore(b, d) : a.appendChild(b), b }, l = function (b, e) { return g.each(e, function (e, d) { b.appendChild(d) }), b }, p = a("#text"), b = function (b) { for (var e = 0; b = b.previousSibling;) e += 1; return e }, N = function (b, d) { if (0 === d) return b; var a; a = b; a = p(a) ? a.nodeValue.length : a.childNodes.length; if (d >= a) return b.nextSibling; if (p(b)) return b.splitText(d); a = b.childNodes[d]; return b = e(b.cloneNode(!1), b), l(b, n(a)) }; return {
            blank: A ? " " : "<br/>", emptyPara: "<p><br/></p>",
            isEditable: f, isControlSizing: function (b) { return b && g(b).hasClass("note-control-sizing") }, buildLayoutInfo: function (b) { var e = function (e) { return function () { return b.find(e) } }; return { editor: function () { return b }, dropzone: e(".note-dropzone"), toolbar: e(".note-toolbar"), editable: e(".note-editable"), codable: e(".note-codable"), statusbar: e(".note-statusbar"), popover: e(".note-popover"), handle: e(".note-handle"), dialog: e(".note-dialog") } }, isText: p, isPara: function (b) { return b && /^DIV|^P|^LI|^H[1-7]/.test(b.nodeName) },
            isList: function (b) { return b && /^UL|^OL/.test(b.nodeName) }, isTable: a("TABLE"), isCell: function (b) { return b && /^TD|^TH/.test(b.nodeName) }, isAnchor: a("A"), isDiv: a("DIV"), isLi: a("LI"), isSpan: a("SPAN"), isB: a("B"), isU: a("U"), isS: a("S"), isI: a("I"), isImg: a("IMG"), isTextarea: a("TEXTAREA"), ancestor: d, listAncestor: c, listNext: n, listPrev: function (b, e) { e = e || t.fail; for (var d = []; b && (d.push(b), !e(b)) ;) b = b.previousSibling; return d }, listDescendant: function (b, e) {
                var d = []; return e = e || t.ok, function K(a) {
                    b !== a && e(a) && d.push(a);
                    for (var c = 0, h = a.childNodes.length; h > c; c++) K(a.childNodes[c])
                }(b), d
            }, commonAncestor: h, listBetween: function (b, e) { var d = [], a = !1, c = !1; return function y(h) { if (h) { if (h === b && (a = !0), a && !c && d.push(h), h === e) return void (c = !0); for (var l = 0, f = h.childNodes.length; f > l; l++) y(h.childNodes[l]) } }(h(b, e)), d }, insertAfter: e, position: b, makeOffsetPath: function (e, d) { var a = u.initial(c(d, t.eq(e))); return g.map(a, b).reverse() }, fromOffsetPath: function (b, e) { for (var d = b, a = 0, c = e.length; c > a; a++) d = d.childNodes[e[a]]; return d }, split: function (b,
            d, a) { b = c(d, t.eq(b)); return 1 === b.length ? N(d, a) : b.reduce(function (b, c) { var h = c.cloneNode(!1); return e(h, c), b === d && (b = N(b, a)), l(h, n(b)), h }) }, remove: function (b, e) { if (b && b.parentNode) { if (b.removeNode) return b.removeNode(e); var d = b.parentNode; if (!e) { var a, c, h = []; a = 0; for (c = b.childNodes.length; c > a; a++) h.push(b.childNodes[a]); a = 0; for (c = h.length; c > a; a++) d.insertBefore(h[a], b) } d.removeChild(b) } }, html: function (b) { return k.isTextarea(b[0]) ? b.val() : b.html() }
        }
    }(), O = function () {
        return {
            readFileAsDataURL: function (f) {
                return g.Deferred(function (a) {
                    g.extend(new FileReader,
                    { onload: function (d) { a.resolve(d.target.result) }, onerror: function () { a.reject(this) } }).readAsDataURL(f)
                }).promise()
            }, createImage: function (f) { return g.Deferred(function (a) { g("<img>").one("load", function () { a.resolve(g(this)) }).one("error abort", function () { a.reject(g(this)) }).css({ display: "none" }).appendTo(document.body).attr("src", f).attr("data-bm-src", f).addClass("scrollLoading") }).promise() }
        }
    }(), M = {
        isEdit: function (f) { return -1 !== [8, 9, 13, 32].indexOf(f) }, nameFromCode: {
            8: "BACKSPACE", 9: "TAB", 13: "ENTER", 32: "SPACE", 48: "NUM0", 49: "NUM1", 50: "NUM2", 51: "NUM3",
            52: "NUM4", 53: "NUM5", 54: "NUM6", 55: "NUM7", 56: "NUM8", 66: "B", 69: "E", 73: "I", 74: "J", 75: "K", 76: "L", 82: "R", 83: "S", 85: "U", 89: "Y", 90: "Z", 191: "SLASH", 219: "LEFTBRACKET", 220: "BACKSLASH", 221: "RIGHTBRACKET"
        }
    }, Q = function () {
        var f = function (a, d) { if (1.9 > I) { var c = {}; return g.each(d, function (d, f) { c[f] = a.css(f) }), c } return a.css.call(a, d) }; this.stylePara = function (a, d) { g.each(a.nodes(k.isPara), function (a, h) { g(h).css(d) }) }; this.current = function (a, d) {
            var c = g(k.isText(a.sc) ? a.sc.parentNode : a.sc), c = f(c, ["font-family", "font-size",
            "text-align", "list-style-type", "line-height"]) || {}; if (c["font-size"] = parseInt(c["font-size"], 10), c["font-bold"] = document.queryCommandState("bold") ? "bold" : "normal", c["font-italic"] = document.queryCommandState("italic") ? "italic" : "normal", c["font-underline"] = document.queryCommandState("underline") ? "underline" : "normal", c["font-strikethrough"] = document.queryCommandState("strikeThrough") ? "strikethrough" : "normal", a.isOnList()) {
                var h = -1 < g.inArray(c["list-style-type"], ["circle", "disc", "disc-leading-zero", "square"]);
                c["list-style"] = h ? "unordered" : "ordered"
            } else c["list-style"] = "none"; (h = k.ancestor(a.sc, k.isPara)) && h.style["line-height"] ? c["line-height"] = h.style.lineHeight : (h = parseInt(c["line-height"], 10) / parseInt(c["font-size"], 10), c["line-height"] = h.toFixed(1)); return c.image = k.isImg(d) && d, c.anchor = a.isOnAnchor() && k.ancestor(a.sc, k.isAnchor), c.aAncestor = k.listAncestor(a.sc, k.isEditable), c
        }
    }, m = function () {
        var f = !!document.createRange, a = function (a, d) {
            var e, c, f = a.parentElement(), b = document.body.createTextRange(),
            g = u.from(f.childNodes); for (e = 0; e < g.length; e++) if (!k.isText(g[e])) { if (b.moveToElementText(g[e]), 0 <= b.compareEndPoints("StartToStart", a)) break; c = g[e] } if (0 !== e && k.isText(g[e - 1])) {
                b = document.body.createTextRange(); b.moveToElementText(c || f); b.collapse(!c); e = c ? c.nextSibling : f.firstChild; f = a.duplicate(); f.setEndPoint("StartToStart", b); for (c = f.text.replace(/[\r\n]/g, "").length; c > e.nodeValue.length && e.nextSibling;) c -= e.nodeValue.length, e = e.nextSibling; e.nodeValue; d && e.nextSibling && k.isText(e.nextSibling) &&
                c === e.nodeValue.length && (c -= e.nodeValue.length, e = e.nextSibling); f = e; e = c
            } return { cont: f, offset: e }
        }, d = function (a) {
            var d = function (e, a) { var b, c; if (k.isText(e)) { c = k.listPrev(e, t.not(k.isText)); var h = u.last(c).previousSibling; b = h || e.parentNode; a += u.sum(u.tail(c), k.length); c = !h } else { if (b = e.childNodes[a] || e, k.isText(b)) return d(b, a); a = 0; c = !1 } return { cont: b, collapseToStart: c, offset: a } }, e = document.body.createTextRange(); a = d(a.cont, a.offset); return e.moveToElementText(a.cont), e.collapse(a.collapseToStart), e.moveStart("character",
            a.offset), e
        }, c = function (a, c, e, l) {
            this.sc = a; this.so = c; this.ec = e; this.eo = l; var p = function () { if (f) { var b = document.createRange(); return b.setStart(a, c), b.setEnd(e, l), b } b = d({ cont: a, offset: c }); return b.setEndPoint("EndToEnd", d({ cont: e, offset: l })), b }; this.select = function () { var b = p(); if (f) { var e = document.getSelection(); 0 < e.rangeCount && e.removeAllRanges(); e.addRange(b) } else b.select() }; this.nodes = function (b) {
                var d = k.listBetween(a, e), d = u.compact(g.map(d, function (e) { return k.ancestor(e, b) })); return g.map(u.clusterBy(d,
                t.eq2), u.head)
            }; this.commonAncestor = function () { return k.commonAncestor(a, e) }; var b = function (b) { return function () { var d = k.ancestor(a, b); return !!d && d === k.ancestor(e, b) } }; this.isOnEditable = b(k.isEditable); this.isOnList = b(k.isList); this.isOnAnchor = b(k.isAnchor); this.isOnCell = b(k.isCell); this.isCollapsed = function () { return a === e && c === l }; this.insertNode = function (b) { var e = p(); f ? e.insertNode(b) : e.pasteHTML(b.outerHTML) }; this.toString = function () { var b = p(); return f ? b.toString() : b.text }; this.bookmark = function (b) {
                return {
                    s: {
                        path: k.makeOffsetPath(b,
                        a), offset: c
                    }, e: { path: k.makeOffsetPath(b, e), offset: l }
                }
            }
        }; return {
            create: function (d, g, e, l) { if (0 === arguments.length) if (f) { var p = document.getSelection(); if (0 === p.rangeCount) return null; p = p.getRangeAt(0); d = p.startContainer; g = p.startOffset; e = p.endContainer; l = p.endOffset } else { var b = document.selection.createRange(), p = b.duplicate(); p.collapse(!1); b.collapse(!0); b = a(b, !0); p = a(p, !1); d = b.cont; g = b.offset; e = p.cont; l = p.offset } else 2 === arguments.length && (e = d, l = g); return new c(d, g, e, l) }, createFromNode: function (a) {
                return this.create(a,
                0, a, 1)
            }, createFromBookmark: function (a, d) { var e = k.fromOffsetPath(a, d.s.path), f = d.s.offset, g = k.fromOffsetPath(a, d.e.path); return new c(e, f, g, d.e.offset) }
        }
    }(), R = function () {
        this.tab = function (f, a) { var d = k.ancestor(f.commonAncestor(), k.isCell), c = k.ancestor(d, k.isTable), c = k.listDescendant(c, k.isCell); (d = u[a ? "prev" : "next"](c, d)) && m.create(d, 0).select() }; this.createTable = function (f, a) {
            var d; d = []; for (var c = 0; f > c; c++) d.push("<td>" + k.blank + "</td>"); d = d.join(""); for (var c = [], h = 0; a > h; h++) c.push("<tr>" + d + "</tr>");
            d = '<table class="table table-bordered">' + c.join("") + "</table>"; return g(d)[0]
        }
    }, S = function () {
        var f = new Q, a = new R; this.saveRange = function (e) { e.data("range", m.create()) }; this.restoreRange = function (e) { (e = e.data("range")) && e.select() }; this.currentStyle = function (e) { var a = m.create(); return a.isOnEditable() && f.current(a, e) }; this.undo = function (e) { e.data("NoteHistory").undo(e) }; this.redo = function (e) { e.data("NoteHistory").redo(e) }; for (var d = this.recordUndo = function (e) { e.data("NoteHistory").recordUndo(e) }, c =
        "bold italic underline strikethrough justifyLeft justifyCenter justifyRight justifyFull insertOrderedList insertUnorderedList indent outdent formatBlock removeFormat backColor foreColor insertHorizontalRule fontName".split(" "), h = 0, n = c.length; n > h; h++) this[c[h]] = function (e) { return function (a, c) { d(a); document.execCommand(e, !1, c) } }(c[h]); this.tab = function (e, c) {
            var f = m.create(); if (f.isCollapsed() && f.isOnCell()) a.tab(f); else {
                var b = c.tabsize; d(e); b = Array(b + 1).join(" "); f.insertNode(g('<span id="noteTab">' +
                b + "</span>")[0]); b = g("#noteTab").removeAttr("id"); f = m.create(b[0], 1); f.select(); k.remove(b[0])
            }
        }; this.untab = function () { var e = m.create(); e.isCollapsed() && e.isOnCell() && a.tab(e, !0) }; this.insertImage = function (e, a) { O.createImage(a).then(function (a) { d(e); a.css({ display: "", width: Math.min(e.width(), a.width()) }); m.create().insertNode(a[0]) }).fail(function () { var a = e.data("callbacks"); a.onImageUploadError && a.onImageUploadError() }) }; this.insertVideo = function (e, a) {
            d(e); var c; a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);
            a.match(/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/); a.match(/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/); a.match(/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/); a.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/); (c = g("<iframe>").attr("src", a).attr("width", "640").attr("height", "320").attr("allowtransparency", "true")) && (c.attr("frameborder", 0), m.create().insertNode(c[0]))
        }; this.formatBlock = function (a, c) { d(a); c = A ? "<" + c + ">" : c; document.execCommand("FormatBlock", !1, c) }; this.formatPara =
        function (a) { this.formatBlock(a, "P") }; for (h = 1; 6 >= h; h++) this["formatH" + h] = function (a) { return function (d) { this.formatBlock(d, "H" + a) } }(h); this.fontSize = function (a, c) { d(a); document.execCommand("fontSize", !1, 3); D ? a.find("font[size=3]").removeAttr("size").css("font-size", c + "px") : a.find("span").filter(function () { return "medium" === this.style.fontSize }).css("font-size", c + "px") }; this.lineHeight = function (a, c) { d(a); f.stylePara(m.create(), { lineHeight: c }) }; this.unlink = function (a) {
            var c = m.create(); c.isOnAnchor() &&
            (d(a), a = k.ancestor(c.sc, k.isAnchor), c = m.createFromNode(a), c.select(), document.execCommand("unlink"))
        }; this.createLink = function (a, c, f) {
            var b = m.create(); d(a); a = c; (-1 !== c.indexOf("@") && -1 === c.indexOf(":") ? a = "mailto:" + c : -1 === c.indexOf("://") && (a = "http://" + c), (A || D) && b.isCollapsed()) ? (b.insertNode(g('<A id="linkAnchor">' + c + "</A>")[0]), c = g("#linkAnchor").attr("href", a).removeAttr("id"), b = m.createFromNode(c[0]), b.select()) : (document.execCommand("createlink", !1, a), b = m.create()); g.each(b.nodes(k.isAnchor),
            function (b, a) { f ? g(a).attr("target", "_blank") : g(a).removeAttr("target") })
        }; this.getLinkInfo = function () { var a = m.create(), c = !0, d = ""; a.isOnAnchor() && (d = k.ancestor(a.sc, k.isAnchor), a = m.createFromNode(d), c = "_blank" === g(d).attr("target"), d = d.href); return { text: a.toString(), url: d, newWindow: c } }; this.getVideoInfo = function () { var a = m.create(); a.isOnAnchor() && (a = k.ancestor(a.sc, k.isAnchor), a = m.createFromNode(a)); return { text: a.toString() } }; this.color = function (a, c) {
            var f = JSON.parse(c), b = f.foreColor, f = f.backColor;
            d(a); b && document.execCommand("foreColor", !1, b); f && document.execCommand("backColor", !1, f)
        }; this.insertTable = function (c, f) { d(c); var h = f.split("x"); m.create().insertNode(a.createTable(h[0], h[1])) }; this.floatMe = function (a, c, f) { d(a); f.css("float", c) }; this.resize = function (a, c, f) { d(a); f.css({ width: a.width() * c + "px", height: "" }) }; this.resizeTo = function (a, c, d) { if (d) { d = a.y / a.x; var b = c.data("ratio"); a = { width: b > d ? a.x : a.y / b, height: b > d ? a.x * b : a.y } } else a = { width: a.x, height: a.y }; c.css(a) }; this.removeMedia = function (a,
        c, f) { d(a); f.detach() }
    }, T = function () { var f = [], a = [], d = function (a) { var c = a[0], d = m.create(); return { contents: a.html(), bookmark: d.bookmark(c), scrollTop: a.scrollTop() } }, c = function (a, c) { a.html(c.contents).scrollTop(c.scrollTop); m.createFromBookmark(a[0], c.bookmark).select() }; this.undo = function (h) { var g = d(h); 0 !== f.length && (c(h, f.pop()), a.push(g)) }; this.redo = function (h) { var g = d(h); 0 !== a.length && (c(h, a.pop()), f.push(g)) }; this.recordUndo = function (c) { a = []; f.push(d(c)) } }, U = function () {
        this.update = function (f, a) {
            var d =
            function (a, c) { a.find(".dropdown-menu li a").each(function () { this.className = g(this).data("value") + "" == c + "" ? "checked" : "" }) }, c = function (a, c) { f.find(a).toggleClass("active", c()) }, h = f.find(".note-fontname"); if (0 < h.length) { var k = a["font-family"]; k && (k = u.head(k.split(",")), k = k.replace(/\'/g, ""), h.find(".note-current-fontname").text(k), d(h, k)) } h = f.find(".note-fontsize"); h.find(".note-current-fontsize").text(a["font-size"]); d(h, parseFloat(a["font-size"])); h = f.find(".note-height"); d(h, parseFloat(a["line-height"]));
            c('button[data-event="bold"]', function () { return "bold" === a["font-bold"] }); c('button[data-event="italic"]', function () { return "italic" === a["font-italic"] }); c('button[data-event="underline"]', function () { return "underline" === a["font-underline"] }); c('button[data-event="strikethrough"]', function () { return "strikethrough" === a["font-strikethrough"] }); c('button[data-event="justifyLeft"]', function () { return "left" === a["text-align"] || "start" === a["text-align"] }); c('button[data-event="justifyCenter"]', function () {
                return "center" ===
                a["text-align"]
            }); c('button[data-event="justifyRight"]', function () { return "right" === a["text-align"] }); c('button[data-event="justifyFull"]', function () { return "justify" === a["text-align"] }); c('button[data-event="insertUnorderedList"]', function () { return "unordered" === a["list-style"] }); c('button[data-event="insertOrderedList"]', function () { return "ordered" === a["list-style"] })
        }; this.updateRecentColor = function (f, a, d) {
            f = g(f).closest(".note-color").find(".note-recent-color"); var c = JSON.parse(f.attr("data-value"));
            c[a] = d; f.attr("data-value", JSON.stringify(c)); a = "backColor" === a ? "background-color" : "color"; f.find("i").css(a, d)
        }; this.updateFullscreen = function (f, a) { f.find('button[data-event="fullscreen"]').toggleClass("active", a) }; this.updateCodeview = function (f, a) { f.find('button[data-event="codeview"]').toggleClass("active", a) }; this.activate = function (f) { f.find("button").not('button[data-event="codeview"]').removeClass("disabled") }; this.deactivate = function (f) { f.find("button").not('button[data-event="codeview"]').addClass("disabled") }
    },
    V = function () { var f = function (a, d) { var c = g(d), f = c.position(), c = c.height(); a.css({ display: "block", left: f.left, top: f.top + c }) }; this.update = function (a, d) { var c = a.find(".note-link-popover"); d.anchor ? (c.find("a").attr("href", d.anchor.href).html(d.anchor.href), f(c, d.anchor)) : c.hide(); c = a.find(".note-image-popover"); d.image ? f(c, d.image) : c.hide() }; this.hide = function (a) { a.children().hide() } }, W = function () {
        this.update = function (f, a) {
            var d = f.find(".note-control-selection"); if (a.image) {
                var c = g(a.image), h = c.position(),
                k = c.width(), c = c.height(); d.css({ display: "block", left: h.left, top: h.top, width: k, height: c }).data("target", a.image); h = k + "x" + c; d.find(".note-control-selection-info").text(h)
            } else d.hide()
        }; this.hide = function (f) { f.children().hide() }
    }, X = function () {
        var f = function (a, d) { a.toggleClass("disabled", !d); a.attr("disabled", !d) }; this.showImageDialog = function (a, d) {
            return g.Deferred(function (c) {
                var h = d.find(".note-image-dialog"), g = d.find(".note-image-input"), e = d.find(".note-image-url"), k = d.find(".note-image-btn"); h.one("shown.bs.modal",
                function () { g.replaceWith(g.clone().on("change", function () { h.modal("hide"); c.resolve(this.files) })); k.click(function (a) { a.preventDefault(); h.modal("hide"); c.resolve(e.val()) }); e.keyup(function () { f(k, e.val()) }).val("").focus() }).one("hidden.bs.modal", function () { a.focus(); g.off("change"); e.off("keyup"); k.off("click") }).modal("show")
            })
        }; this.showVideoDialog = function (a, d, c) {
            return g.Deferred(function (g) {
                var k = d.find(".note-video-dialog"), e = k.find(".note-video-url"), l = k.find(".note-video-btn"); k.one("shown.bs.modal",
                function () { e.val(c.text).keyup(function () { f(l, e.val()) }).trigger("keyup").trigger("focus"); l.click(function (a) { a.preventDefault(); k.modal("hide"); g.resolve(e.val()) }) }).one("hidden.bs.modal", function () { a.focus(); e.off("keyup"); l.off("click") }).modal("show")
            })
        }; this.showLinkDialog = function (a, d, c) {
            return g.Deferred(function (g) {
                var k = d.find(".note-link-dialog"), e = k.find(".note-link-text"), l = k.find(".note-link-url"), p = k.find(".note-link-btn"), b = k.find("input[type=checkbox]"); k.one("shown.bs.modal", function () {
                    e.val(c.text);
                    l.keyup(function () { f(p, l.val()); c.text || e.val(l.val()) }).val(c.url).trigger("focus"); b.prop("checked", c.newWindow); p.one("click", function (a) { a.preventDefault(); k.modal("hide"); g.resolve(l.val(), b.is(":checked")) })
                }).one("hidden.bs.modal", function () { a.focus(); l.off("keyup") }).modal("show")
            }).promise()
        }; this.showHelpDialog = function (a, d) { d.find(".note-help-dialog").one("hidden.bs.modal", function () { a.focus() }).modal("show") }
    }; g.summernote = g.summernote || {}; g.extend(g.summernote, {
        version: "0.5.2", options: {
            width: null,
            height: null, focus: !1, tabsize: 4, styleWithSpan: !0, disableLinkTarget: !1, disableDragAndDrop: !1, codemirror: null, lang: "en-US", direction: null, toolbar: [["style", ["style"]], ["font", ["bold", "italic", "underline", "clear"]], ["fontname", ["fontname"]], ["color", ["color"]], ["para", ["ul", "ol", "paragraph"]], ["height", ["height"]], ["table", ["table"]], ["insert", ["link", "picture", "video"]], ["view", ["fullscreen", "codeview"]], ["help", ["help"]]], oninit: null, onfocus: null, onblur: null, onenter: null, onkeyup: null, onkeydown: null,
            onImageUpload: null, onImageUploadError: null, onToolbarClick: null, keyMap: {
                pc: {
                    "CTRL+Z": "undo", "CTRL+Y": "redo", TAB: "tab", "SHIFT+TAB": "untab", "CTRL+B": "bold", "CTRL+I": "italic", "CTRL+U": "underline", "CTRL+SHIFT+S": "strikethrough", "CTRL+BACKSLASH": "removeFormat", "CTRL+SHIFT+L": "justifyLeft", "CTRL+SHIFT+E": "justifyCenter", "CTRL+SHIFT+R": "justifyRight", "CTRL+SHIFT+J": "justifyFull", "CTRL+SHIFT+NUM7": "insertUnorderedList", "CTRL+SHIFT+NUM8": "insertOrderedList", "CTRL+LEFTBRACKET": "outdent", "CTRL+RIGHTBRACKET": "indent",
                    "CTRL+NUM0": "formatPara", "CTRL+NUM1": "formatH1", "CTRL+NUM2": "formatH2", "CTRL+NUM3": "formatH3", "CTRL+NUM4": "formatH4", "CTRL+NUM5": "formatH5", "CTRL+NUM6": "formatH6", "CTRL+ENTER": "insertHorizontalRule"
                }, mac: {
                    "CMD+Z": "undo", "CMD+SHIFT+Z": "redo", TAB: "tab", "SHIFT+TAB": "untab", "CMD+B": "bold", "CMD+I": "italic", "CMD+U": "underline", "CMD+SHIFT+S": "strikethrough", "CMD+BACKSLASH": "removeFormat", "CMD+SHIFT+L": "justifyLeft", "CMD+SHIFT+E": "justifyCenter", "CMD+SHIFT+R": "justifyRight", "CMD+SHIFT+J": "justifyFull", "CMD+SHIFT+NUM7": "insertUnorderedList",
                    "CMD+SHIFT+NUM8": "insertOrderedList", "CMD+LEFTBRACKET": "outdent", "CMD+RIGHTBRACKET": "indent", "CMD+NUM0": "formatPara", "CMD+NUM1": "formatH1", "CMD+NUM2": "formatH2", "CMD+NUM3": "formatH3", "CMD+NUM4": "formatH4", "CMD+NUM5": "formatH5", "CMD+NUM6": "formatH6", "CMD+ENTER": "insertHorizontalRule"
                }
            }
        }, lang: {
            "en-US": {
                font: { bold: "Bold", italic: "Italic", underline: "Underline", strike: "Strike", clear: "Remove Font Style", height: "Line Height", name: "Font Family", size: "Font Size" }, image: {
                    image: "Picture", insert: "Insert Image",
                    resizeFull: "Resize Full", resizeHalf: "Resize Half", resizeQuarter: "Resize Quarter", floatLeft: "Float Left", floatRight: "Float Right", floatNone: "Float None", dragImageHere: "Drag an image here", selectFromFiles: "Select from files", url: "Image URL", remove: "Remove Image"
                }, link: { link: "Link", insert: "Insert Link", unlink: "Unlink", edit: "Edit", textToDisplay: "Text to display", url: "To what URL should this link go?", openInNewWindow: "Open in new window" }, video: {
                    video: "Video", videoLink: "Video Link", insert: "Insert Video",
                    url: "Video URL?", providers: "(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"
                }, table: { table: "Table" }, hr: { insert: "Insert Horizontal Rule" }, style: { style: "Style", normal: "Normal", blockquote: "Quote", pre: "Code", h1: "Header 1", h2: "Header 2", h3: "Header 3", h4: "Header 4", h5: "Header 5", h6: "Header 6" }, lists: { unordered: "Unordered list", ordered: "Ordered list" }, options: { help: "Help", fullscreen: "Full Screen", codeview: "Code View" }, paragraph: {
                    paragraph: "Paragraph", outdent: "Outdent", indent: "Indent", left: "Align left",
                    center: "Align center", right: "Align right", justify: "Justify full"
                }, color: { recent: "Recent Color", more: "More Color", background: "BackColor", foreground: "FontColor", transparent: "Transparent", setTransparent: "Set transparent", reset: "Reset", resetToDefault: "Reset to default" }, shortcut: { shortcuts: "Keyboard shortcuts", close: "Close", textFormatting: "Text formatting", action: "Action", paragraphFormatting: "Paragraph formatting", documentStyle: "Document Style" }, history: { undo: "Undo", redo: "Redo" }
            }
        }
    }); var v = new function () {
        var f,
        a, d, c, h; f = {
            picture: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.image.image + '" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>' }, link: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.link.link + '" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>' }, video: function (b) {
                return '<button type="button" class="btn btn-default btn-sm btn-small" title="' +
                b.video.video + '" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'
            }, table: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="' + b.table.table + '" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>' },
            style: function (b) {
                return '<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="' + b.style.style + '" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">' + b.style.normal + '</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>' + b.style.blockquote + '</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">' +
                b.style.pre + '</a></li><li><a data-event="formatBlock" data-value="h1"><h1>' + b.style.h1 + '</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>' + b.style.h2 + '</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>' + b.style.h3 + '</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>' + b.style.h4 + '</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>' + b.style.h5 + '</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>' + b.style.h6 + "</h6></a></li></ul>"
            },
            fontname: function (b) {
                var a = "Serif;Sans;Arial;Arial Black;Courier;Courier New;Comic Sans MS;Helvetica;Impact;Lucida Grande;Lucida Sans;Tahoma;Times;Times New Roman;Verdana".split(";"); b = '<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="' + b.font.name + '" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>'; b += '<ul class="dropdown-menu">'; for (var c = 0; c < a.length; c++) b += '<li><a data-event="fontName" data-value="' +
                a[c] + '"><i class="fa fa-check icon-ok"></i> ' + a[c] + "</a></li>"; return b + "</ul>"
            }, fontsize: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="' + b.font.size + '" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>' },
            color: function (b) {
                return '<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="' + b.color.recent + '" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="' + b.color.more + '" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">' +
                b.color.background + '</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="' + b.color.transparent + '">' + b.color.setTransparent + '</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">' + b.color.foreground + '</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="' + b.color.reset + '">' + b.color.resetToDefault + '</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'
            },
            bold: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.font.bold + '" data-shortcut="Ctrl+B" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>' }, italic: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.font.italic + '" data-shortcut="Ctrl+I" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>' },
            underline: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.font.underline + '" data-shortcut="Ctrl+U" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>' }, strike: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.font.strike + '" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>' },
            clear: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.font.clear + '" data-shortcut="Ctrl+\\" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>' }, ul: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.lists.unordered + '" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>' },
            ol: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.lists.ordered + '" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>' }, paragraph: function (b) {
                return '<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="' + b.paragraph.paragraph + '" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="' +
                b.paragraph.left + '" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.paragraph.center + '" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' +
                b.paragraph.right + '" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.paragraph.justify + '" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="' +
                b.paragraph.outdent + '" data-shortcut="Ctrl+[" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.paragraph.indent + '" data-shortcut="Ctrl+]" data-mac-shortcut="\u00c3\u00a2\u00c5\u2019\u00cb\u0153+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'
            }, height: function (b) {
                return '<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="' +
                b.font.height + '" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>  <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'
            },
            help: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.options.help + '" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>' }, fullscreen: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.options.fullscreen + '" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>' }, codeview: function (b) {
                return '<button type="button" class="btn btn-default btn-sm btn-small" title="' +
                b.options.codeview + '" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'
            }, undo: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.history.undo + '" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>' }, redo: function (b) { return '<button type="button" class="btn btn-default btn-sm btn-small" title="' + b.history.redo + '" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>' }
        }; a =
        function (b) {
            return '<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>  <div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.link.edit + '" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' +
            b.link.unlink + '" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.image.resizeFull + '" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="' +
            b.image.resizeHalf + '" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.image.resizeQuarter + '" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.image.floatLeft + '" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' +
            b.image.floatRight + '" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.image.floatNone + '" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="' + b.image.remove + '" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'
        };
        d = function () { return '<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>' }; var n = function (b, a) {
            var c = '<table class="note-shortcut-layout"><tbody><tr><td>' + ('<table class="note-shortcut"><thead><tr><th></th><th>' +
            b.shortcut.action + "</th></tr></thead><tbody><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + Z</td><td>" + b.history.undo + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + Z</td><td>" + b.history.redo + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + ]</td><td>" + b.paragraph.indent + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + [</td><td>" + b.paragraph.outdent + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + ENTER</td><td>" +
            b.hr.insert + "</td></tr></tbody></table>") + "</td><td>" + ('<table class="note-shortcut"><thead><tr><th></th><th>' + b.shortcut.textFormatting + "</th></tr></thead><tbody><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + B</td><td>" + b.font.bold + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + I</td><td>" + b.font.italic + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + U</td><td>" + b.font.underline + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + S</td><td>" +
            b.font.strike + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \\</td><td>" + b.font.clear + "</td></tr></tr></tbody></table>") + "</td></tr><tr><td>" + ('<table class="note-shortcut"><thead><tr><th></th><th>' + b.shortcut.documentStyle + "</th></tr></thead><tbody><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM0</td><td>" + b.style.normal + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM1</td><td>" + b.style.h1 + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM2</td><td>" + b.style.h2 +
            "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM3</td><td>" + b.style.h3 + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM4</td><td>" + b.style.h4 + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM5</td><td>" + b.style.h5 + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + NUM6</td><td>" + b.style.h6 + "</td></tr></tbody></table>") + "</td><td>" + ('<table class="note-shortcut"><thead><tr><th></th><th>' + b.shortcut.paragraphFormatting + "</th></tr></thead><tbody><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + L</td><td>" +
            b.paragraph.left + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + E</td><td>" + b.paragraph.center + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + R</td><td>" + b.paragraph.right + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + J</td><td>" + b.paragraph.justify + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + NUM7</td><td>" +
            b.lists.ordered + "</td></tr><tr><td>\u00c3\u00a2\u00c5\u2019\u00cb\u0153 + \u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7 + NUM8</td><td>" + b.lists.unordered + "</td></tr></tbody></table>") + "</td></tr>"; if (a.extraKeys) { var d = '<table class="note-shortcut"><thead><tr><th></th><th>' + b.shortcut.extraKeys + "</th></tr></thead><tbody>", e; for (e in a.extraKeys) a.extraKeys.hasOwnProperty(e) && (d += "<tr><td>" + e + "</td><td>" + a.extraKeys[e] + "</td></tr>"); c += '<tr><td colspan="2">' + (d + "</tbody></table>") + "</td></tr>" } return c +
            "</tbody</table>"
        }; c = function (b, a) {
            var c = '<div class="note-dialog">' + ('<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">X</button><h4>' + b.image.insert + '</h4></div><div class="modal-body"><div class="row-fluid"><h5>' + b.image.selectFromFiles + '</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>' + b.image.url +
            '</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">' + b.image.insert + "</button></div></div></div></div>") + ('<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">X</button><h4>' + b.link.insert + '</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>' +
            b.link.textToDisplay + '</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>' + b.link.url + '</label><input class="note-link-url form-control span12" type="text" /></div>' + (a.disableLinkTarget ? "" : '<div class="checkbox"><label><input type="checkbox" checked> ' + b.link.openInNewWindow + "</label></div>") + '</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">' + b.link.insert +
            "</button></div></div></div></div>") + ('<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">X</button><h4>' + b.video.insert + '</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>' + b.video.url + '</label> <small class="text-muted">' + b.video.providers + '</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">' +
            b.video.insert + "</button></div></div></div></div>"), d = '<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">' + b.shortcut.close + '</a><div class="title">' + b.shortcut.shortcuts + "</div>", e; e = H ? n(b, a) : n(b, a).replace(/\u00c3\u00a2\u00c5\u2019\u00cb\u0153/g, "Ctrl").replace(/\u00c3\u00a2\u00e2\u20ac\u00a1\u00c2\u00a7/g, "Shift"); return c + (d + e + '<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> \u00c3\u201a\u00c2\u00b7 <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> \u00c3\u201a\u00c2\u00b7 <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>') +
            "</div>"
        }; h = function () { return '<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>' }; var e = function (b, a) { b.find("button").each(function (b, a) { var c = g(a), d = c.attr(H ? "data-mac-shortcut" : "data-shortcut"); d && c.attr("title", function (b, a) { return a + " (" + d + ")" }) }).tooltip({ container: "body", trigger: "hover", placement: a || "top" }).on("click", function () { g(this).tooltip("hide") }) }, l = ["#000000 #424242 #636363 #9C9C94 #CEC6CE #EFEFEF #F7F7F7 #FFFFFF".split(" "),
        "#FF0000 #FF9C00 #FFFF00 #00FF00 #00FFFF #0000FF #9C00FF #FF00FF".split(" "), "#F7C6CE #FFE7CE #FFEFC6 #D6EFD6 #CEDEE7 #CEE7F7 #D6D6E7 #E7D6DE".split(" "), "#E79C9C #FFC69C #FFE79C #B5D6A5 #A5C6CE #9CC6EF #B5A5D6 #D6A5BD".split(" "), "#E76363 #F7AD6B #FFD663 #94BD7B #73A5AD #6BADDE #8C7BC6 #C67BA5".split(" "), "#CE0000 #E79439 #EFC631 #6BA54A #4A7B8C #3984C6 #634AA5 #A54A7B".split(" "), "#9C0000 #B56308 #BD9400 #397B21 #104A5A #085294 #311873 #731842".split(" "), "#630000 #7B3900 #846300 #295218 #083139 #003163 #21104A #4A1031".split(" ")],
        p = function (b) { b.find(".note-color-palette").each(function () { for (var b = g(this), a = b.attr("data-target-event"), c = [], d = 0, e = l.length; e > d; d++) { for (var f = l[d], h = [], y = 0, k = f.length; k > y; y++) { var L = f[y]; h.push(['<button type="button" class="note-color-btn" style="background-color:', L, ';" data-event="', a, '" data-value="', L, '" title="', L, '" data-toggle="button" tabindex="-1"></button>'].join("")) } c.push("<div>" + h.join("") + "</div>") } b.html(c.join("")) }) }; this.createLayout = function (b, l) {
            var n = b.next(); if (!n || !n.hasClass("note-editor")) {
                n =
                g('<div class="note-editor"></div>'); l.width && n.width(l.width); 0 < l.height && g('<div class="note-statusbar">' + h() + "</div>").prependTo(n); var m = !b.is(":disabled"), m = g('<div class="note-editable" contentEditable="' + m + '"></div>').prependTo(n); l.height && m.height(l.height); l.direction && m.attr("dir", l.direction); m.html(k.html(b) || k.emptyPara); g('<textarea class="note-codable"></textarea>').prependTo(n); for (var m = g.summernote.lang[l.lang], r = "", u = 0, t = l.toolbar.length; t > u; u++) {
                    for (var v = l.toolbar[u], r = r + ('<div class="note-' +
                    v[0] + ' btn-group">'), y = 0, P = v[1].length; P > y; y++) r += f[v[1][y]](m); r += "</div>"
                } r = g('<div class="note-toolbar btn-toolbar">' + r + "</div>").prependTo(n); p(r); e(r, "bottom"); r = g(a(m)).prependTo(n); e(r); g(d()).prependTo(n); g(c(m, l)).prependTo(n).find("button.close, a.modal-close").click(function () { g(this).closest(".modal").modal("hide") }); g('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(n); n.insertAfter(b); b.hide()
            }
        }; this.layoutInfoFromHolder = function (b) {
            b = b.next();
            if (b.hasClass("note-editor")) { b = k.buildLayoutInfo(b); for (var a in b) b.hasOwnProperty(a) && (b[a] = b[a].call()); return b }
        }; this.removeLayout = function (a) { var c = this.layoutInfoFromHolder(a); c && (a.html(c.editable.html()), c.editor.remove(), a.show()) }
    }, F = new function () {
        var f = new S, a = new U, d = new V, c = new W, h = new X, n = function (a) { a = g(a).closest(".note-editor"); return 0 < a.length && k.buildLayoutInfo(a) }, e = function (a, b) {
            f.restoreRange(a); var c = a.data("callbacks"); c.onImageUpload ? c.onImageUpload(b, f, a) : g.each(b, function (b,
            d) { O.readFileAsDataURL(d).then(function (b) { f.insertImage(a, b) }).fail(function () { c.onImageUploadError && c.onImageUploadError() }) })
        }, l = function (a) { k.isImg(a.target) && a.preventDefault() }, m = function (b) { var e = n(b.currentTarget || b.target); (b = f.currentStyle(b.target)) && (a.update(e.toolbar(), b), d.update(e.popover(), b), c.update(e.handle(), b)) }, b = function (a) { a = n(a.currentTarget || a.target); d.hide(a.popover()); c.hide(a.handle()) }, t = function (a) {
            var b = a.originalEvent; b.clipboardData && b.clipboardData.items && b.clipboardData.items.length &&
            (a = n(a.currentTarget || a.target), b = u.head(b.clipboardData.items), "file" === b.kind && -1 !== b.type.indexOf("image/") && e(a.editable(), [b.getAsFile()]))
        }, v = function (a) {
            if (k.isControlSizing(a.target)) {
                var b = n(a.target), e = b.handle(), h = b.popover(), l = b.editable(), m = b.editor(), p = e.find(".note-control-selection").data("target"), B = g(p), u = B.offset(), r = g(document).scrollTop(); m.on("mousemove", function (a) { f.resizeTo({ x: a.clientX - u.left, y: a.clientY - (u.top - r) }, B, !a.shiftKey); c.update(e, { image: p }); d.update(h, { image: p }) }).one("mouseup",
                function () { m.off("mousemove") }); B.data("ratio") || B.data("ratio", B.height() / B.width()); f.recordUndo(l); a.stopPropagation(); a.preventDefault()
            }
        }, D = function (a) { 0 < g(a.target).closest("[data-event]").length && a.preventDefault() }, r = function (b) {
            var c = g(b.target).closest("[data-event]"); if (0 < c.length) {
                var d, l, E, x = c.attr("data-event"), u = c.attr("data-value"), r = n(b.target), t = r.editor(), v = r.toolbar(), C = r.dialog(), q = r.editable(), w = r.codable(), z = t.data("options"); -1 !== g.inArray(x, ["resize", "floatMe", "removeMedia"]) &&
                (E = r.handle().find(".note-control-selection"), E = g(E.data("target"))); if (f[x] && (q.trigger("focus"), f[x](q, u, E)), -1 !== g.inArray(x, ["backColor", "foreColor"])) a.updateRecentColor(c[0], x, u); else if ("showLinkDialog" === x) q.focus(), z = f.getLinkInfo(), f.saveRange(q), h.showLinkDialog(q, C, z).then(function (a, b) { f.restoreRange(q); f.createLink(q, a, b) }); else if ("showImageDialog" === x) q.focus(), h.showImageDialog(q, C).then(function (a) { "string" == typeof a ? (f.restoreRange(q), f.insertImage(q, a)) : e(q, a) }); else if ("showVideoDialog" ===
                x) q.focus(), z = f.getVideoInfo(), f.saveRange(q), h.showVideoDialog(q, C, z).then(function (a) { f.restoreRange(q); f.insertVideo(q, a) }); else if ("showHelpDialog" === x) h.showHelpDialog(q, C); else if ("fullscreen" === x) {
                    l = g("html, body"); var A = function (a) { t.css("width", a.w); q.css("height", a.h); w.css("height", a.h); w.data("cmEditor") && w.data("cmEditor").setSize(null, a.h) }; t.toggleClass("fullscreen"); (r = t.hasClass("fullscreen")) ? (q.data("orgHeight", q.css("height")), g(window).on("resize", function () {
                        A({
                            w: g(window).width(),
                            h: g(window).height() - v.outerHeight()
                        })
                    }).trigger("resize"), l.css("overflow", "hidden")) : (g(window).off("resize"), A({ w: z.width || "", h: q.data("orgHeight") }), l.css("overflow", "auto")); a.updateFullscreen(v, r)
                } else if ("codeview" === x) {
                    t.toggleClass("codeview"); if (C = t.hasClass("codeview")) {
                        if (w.val(q.html()), w.height(q.height()), a.deactivate(v), w.focus(), J) l = G.fromTextArea(w[0], g.extend({ mode: "text/html", lineNumbers: !0 }, z.codemirror)), (z = t.data("options").codemirror.tern || !1) && (d = new G.TernServer(z), l.ternServer =
                        d, l.on("cursorActivity", function (a) { d.updateArgHints(a) })), l.setSize(null, q.outerHeight()), l.autoFormatRange && l.autoFormatRange({ line: 0, ch: 0 }, { line: l.lineCount(), ch: l.getTextArea().value.length }), w.data("cmEditor", l)
                    } else J && (l = w.data("cmEditor"), w.val(l.getValue()), l.toTextArea()), q.html(w.val() || k.emptyPara), q.height(z.height ? w.height() : "auto"), a.activate(v), q.focus(); a.updateCodeview(r.toolbar(), C)
                } m(b)
            }
        }, F = function (a) {
            var b = g(document), c = n(a.target).editable(), d = c.offset().top - b.scrollTop(); b.on("mousemove",
            function (a) { c.height(a.clientY - (d + 24)) }).one("mouseup", function () { b.off("mousemove") }); a.stopPropagation(); a.preventDefault()
        }, K = function (a) {
            var b, c = g(a.target.parentNode), d = c.next(), e = c.find(".note-dimension-picker-mousecatcher"), f = c.find(".note-dimension-picker-highlighted"), c = c.find(".note-dimension-picker-unhighlighted"); if (void 0 === a.offsetX) { var h = g(a.target).offset(); b = a.pageX - h.left; a = a.pageY - h.top } else b = a.offsetX, a = a.offsetY; b = Math.ceil(b / 18) || 1; a = Math.ceil(a / 18) || 1; f.css({
                width: b + "em",
                height: a + "em"
            }); e.attr("data-value", b + "x" + a); 3 < b && 10 > b && c.css({ width: b + 1 + "em" }); 3 < a && 10 > a && c.css({ height: a + 1 + "em" }); d.html(b + " x " + a)
        }, I = function (a) {
            var b = g(), c = a.dropzone, d = a.dropzone.find(".note-dropzone-message"); g(document).on("dragenter", function (e) { a.editor.hasClass("codeview") || 0 !== b.length || (a.editor.addClass("dragover"), c.width(a.editor.width()), c.height(a.editor.height()), d.text("Drag Image Here")); b = b.add(e.target) }).on("dragleave", function (c) { b = b.not(c.target); 0 === b.length && a.editor.removeClass("dragover") }).on("drop",
            function () { b = g(); a.editor.removeClass("dragover") }); c.on("dragenter", function () { c.addClass("hover"); d.text("Drop Image") }).on("dragleave", function () { c.removeClass("hover"); d.text("Drag Image Here") }); c.on("drop", function (a) { var b = a.originalEvent.dataTransfer; if (b && b.files) { var c = n(a.currentTarget || a.target); c.editable().focus(); e(c.editable(), b.files) } a.preventDefault() }).on("dragover", !1)
        }; this.bindKeyMap = function (a, b) {
            var c = a.editor, d = a.editable; d.on("keydown", function (a) {
                var e = []; a.metaKey && e.push("CMD");
                a.ctrlKey && e.push("CTRL"); a.shiftKey && e.push("SHIFT"); var g = M.nameFromCode[a.keyCode]; g && e.push(g); (e = b[e.join("+")]) ? (a.preventDefault(), f[e](d, c.data("options"))) : M.isEdit(a.keyCode) && f.recordUndo(d)
            })
        }; this.attach = function (a, c) {
            this.bindKeyMap(a, c.keyMap[H ? "mac" : "pc"]); a.editable.on("mousedown", l); a.editable.on("keyup mouseup", m); a.editable.on("scroll", b); a.editable.on("paste", t); c.disableDragAndDrop || I(a); a.handle.on("mousedown", v); a.toolbar.on("click", r); a.popover.on("click", r); a.toolbar.on("mousedown",
            D); a.popover.on("mousedown", D); a.statusbar.on("mousedown", F); if (a.toolbar.find(".note-dimension-picker-mousecatcher").on("mousemove", K), a.editable.on("blur", function () { f.saveRange(a.editable) }), a.editor.data("options", c), c.styleWithSpan && !A && setTimeout(function () { document.execCommand("styleWithCSS", 0, !0) }), a.editable.data("NoteHistory", new T), c.onenter && a.editable.keypress(function (a) { a.keyCode === M.ENTER && c.onenter(a) }), c.onfocus && a.editable.focus(c.onfocus), c.onblur && a.editable.blur(c.onblur), c.onkeyup &&
            a.editable.keyup(c.onkeyup), c.onkeydown && a.editable.keydown(c.onkeydown), c.onpaste && a.editable.on("paste", c.onpaste), c.onToolbarClick && a.toolbar.click(c.onToolbarClick), c.onChange) { var d = function () { c.onChange(a.editable, a.editable.html()) }; A ? a.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted", d) : a.editable.on("input", d) } a.editable.data("callbacks", { onAutoSave: c.onAutoSave, onImageUpload: c.onImageUpload, onImageUploadError: c.onImageUploadError, onFileUpload: c.onFileUpload, onFileUploadError: c.onFileUpload })
        };
        this.dettach = function (a) { a.editable.off(); a.toolbar.off(); a.handle.off(); a.popover.off() }
    }; g.fn.extend({
        summernote: function (f) { (f = g.extend({}, g.summernote.options, f), this.each(function (a, d) { var c = g(d); v.createLayout(c, f); var h = v.layoutInfoFromHolder(c); F.attach(h, f); k.isTextarea(c[0]) && c.closest("form").submit(function () { c.html(c.code()) }) }), this.first() && f.focus) && v.layoutInfoFromHolder(this.first()).editable.focus(); return 0 < this.length && f.oninit && f.oninit(), this }, code: function (f) {
            if (void 0 === f) {
                var a =
                this.first(); if (0 === a.length) return; var d = v.layoutInfoFromHolder(a); return d && d.editable ? (a = d.editor.hasClass("codeview"), a && J && d.codable.data("cmEditor").save(), a ? d.codable.val() : d.editable.html()) : a.html()
            } return this.each(function (a, d) { var k = v.layoutInfoFromHolder(g(d)); k && k.editable && k.editable.html(f) }), this
        }, destroy: function () { return this.each(function (f, a) { var d = g(a), c = v.layoutInfoFromHolder(d); c && c.editable && (F.dettach(c), v.removeLayout(d)) }), this }
    })
});